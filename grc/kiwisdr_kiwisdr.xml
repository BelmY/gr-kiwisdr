<?xml version="1.0"?>
<block>
  <name>kiwisdr</name>
  <key>kiwisdr_kiwisdr</key>
  <category>[kiwisdr]</category>
  <import>import kiwisdr</import>
  <make>kiwisdr.kiwisdr($host, $port,$rx_freq_kHz,$low_cut_Hz,$high_cut_Hz)</make>
  <callback>set_rx_parameters($rx_freq_kHz,$low_cut_Hz,$high_cut_Hz)</callback>

  <param>
    <name>Host name</name>
    <key>host</key>
    <type>string</type>
  </param>

  <param>
    <name>Port number</name>
    <key>port</key>
    <type>string</type>
  </param>

  <param>
    <name>Modulation</name>
    <key>mod</key>
    <value>iq</value>
    <type>string</type>
    <!-- <option> -->
    <!--   <name>AM</name><key>am</key> -->
    <!-- </option> -->
    <!-- <option> -->
    <!--   <name>USB</name><key>usb</key> -->
    <!-- </option> -->
    <!-- <option> -->
    <!--   <name>LSB</name><key>lsb</key> -->
    <!-- </option> -->
    <!-- <option> -->
    <!--   <name>FM</name><key>fm</key> -->
    <!-- </option> -->
    <option>
      <name>IQ</name><key>iq</key>
    </option>
  </param>

  <param>
    <name>IF filter low cut (Hz)</name>
    <key>low_cut_Hz</key>
    <type>int</type>
  </param>

  <param>
    <name>IF filter high cut (Hz)</name>
    <key>high_cut_Hz</key>
    <type>int</type>
  </param>

  <param>
    <name>RX center frequency (kHz)</name>
    <key>rx_freq_kHz</key>
    <type>float</type>
  </param>

  <!-- Make one 'sink' node per input. Sub-nodes:
       * name (an identifier for the GUI)
       * type
       * vlen
       * optional (set to 1 for optional inputs) -->
  <!-- <sink> -->
  <!--   <name>in</name> -->
  <!--   <type><!-\- e.g. int, float, complex, byte, short, xxx_vector, ...-\-></type> -->
  <!-- </sink> -->

  <!-- Make one 'source' node per output. Sub-nodes:
       * name (an identifier for the GUI)
       * type
       * vlen
       * optional (set to 1 for optional inputs) -->
  <source>
    <name>IQ</name>
    <type>complex</type>
    <!-- <vlen>512</vlen> -->
    <!-- <optional> -->
    <!--   #if $mod() != 'iq' -->
    <!--   1 -->
    <!--   #else -->
    <!--   0 -->
    <!--   #end if -->
    <!-- </optional> -->
  </source>
  <!-- <source> -->
  <!--   <name>Real</name> -->
  <!--   <type>f32</type> -->
  <!--   <!-\- <vlen>512</vlen> -\-> -->
  <!--   <optional> -->
  <!--     #if $mod() == 'iq' -->
  <!--     1 -->
  <!--     #else -->
  <!--     0 -->
  <!--     #end if -->
  <!--   </optional> -->
  <!-- </source> -->
</block>
